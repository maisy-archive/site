---
import ArticleCard from "@components/ArticleCard.astro";
import BaseLayout from "@layouts/BaseLayout.astro"
import { Article } from "@/def";
import { MarkdownInstance } from "astro";

export interface Props {
	title: string;
}

const articles = await Astro.glob<Article>("../pages/articles/*.md");

const title = Astro.props.title ?? Astro.props.content.title;
const article = articles.find((i: MarkdownInstance<Article>) => i.frontmatter.title === title);
---

<BaseLayout title={title}>
	<main class="h-full flex flex-col gap-2">
        <ArticleCard article={article.frontmatter} />
        <slot />
	</main>
</BaseLayout>